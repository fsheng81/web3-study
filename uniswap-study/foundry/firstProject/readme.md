这是第一个项目：
不涉及复杂的精度计算
不涉及跨tick交易
不考虑多个池子
不考虑预言机



模型：

流动性池子合约 pool.sol，能够向其中注入某个position的流动性，并支持单向交易。ETH-USDT交易，其中ETH是资产`x`，USDT是资产`y`，当前价格为$p = \frac{amount_y}{amount_x} = 5000$，准备提供流动性的区间为`[4545, 5500]`，随后交易时准备支付USDT，购买ETH（购买后`p`上升）。

## 计算流动性

注入流动性的原则要求：

1. 输入价格区间$[p_a, p_b]$和流动性$L = \sqrt{x * y}$，其中`x`和`Y`代表两种资产的数量。
2. 注入后，不能够改变当前价格`price`。

**价格区间**

首先计算一下tick，一共有三个价格：$price = (4545，5000，5500)$，计算$\sqrt{price} = (\sqrt{4545},\sqrt{5000},\sqrt{5500}) = (67.42,70.71,74.16)$.

根据tick的计算公式：$i = \log_{\sqrt{1.0001}}{\sqrt{p(i)}} = (85176, 84222, 86129)$

**投入的token**

池子的第一笔注入，准备注入1 ETH 和 5000 USDT。

但是此时需要让价格在价格区间中，应该是用价格区间来计算注入的流动性。

约束条件是：

价格区间`[p_a, p_b]`中注入流动性，【图】





注：如果当前价格 `price`不在注入流动性的区间`[a, b]`之间呢？一般没有必要吧。

## Python计算

